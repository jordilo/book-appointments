<h1>Create a new meeting</h1>

<form class="form"
      *ngIf="users; else loading">
  <div class="form-group">
    <label for="meetingName">Attendants</label>
    <span *ngFor="let user of users$ | async ; index as i">
      <input type="checkbox"
             [value]="user.id"
             (change)="onSelectUser(user, users.controls[i].value) "
             [formControl]="users.controls[i]" />
      {{user | fullName}}{{user.id}}
    </span>
  </div>
</form>
<form class="form"
      *ngIf="form; else loading"
      [formGroup]="form">
  <div class="form-group">
    <label for="meetingName">Meeting name </label>
    <input type="text"
           formControlName="name" />
  </div>
  <div class="form-group">
    <label>Single Date</label>
    <ngx-date-picker #dateInstanceSingle></ngx-date-picker>
    <input class="form-control"
           placeholder="Select Date"
           [ngxDatePicker]="dateInstanceSingle"
           [value]="date"
           (valueChange)="onChangeSingle($event)">
  </div>
  <button [disabled]="form.invalid">Save</button>
  <pre>{{form.value| json}}</pre>
</form>
<ng-template #loading></ng-template>
